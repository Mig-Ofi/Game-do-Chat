<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mhfp.io Offline</title>
<style>
html, body {
  margin:0; padding:0;
  background:#111; color:#fff;
  font-family:sans-serif;
  overflow:hidden;
}
#gameCanvas {
  background:#222;
  display:block;
  margin:0 auto;
}
#menu, #hud {
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
#hud { pointer-events:none; }
button {
  padding:10px 20px;
  font-size:18px;
  border:none;
  border-radius:5px;
  cursor:pointer;
  background:#28a; color:#fff;
}
#joystick {
  position:absolute;
  bottom:80px; left:80px;
  width:100px; height:100px;
  background:rgba(255,255,255,0.1);
  border-radius:50%;
  touch-action:none;
}
#shootBtn {
  position:absolute;
  bottom:80px; right:80px;
  width:80px; height:80px;
  background:#a22;
  border-radius:50%;
  touch-action:none;
}
</style>
</head>
<body>
<div id="menu">
<h1>Mhfp.io Offline</h1>
<button id="playBtn">Jogar</button>
</div>
<canvas id="gameCanvas"></canvas>
<div id="hud" style="display:none;">
<canvas id="joystick"></canvas>
<canvas id="shootBtn"></canvas>
</div>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
let W = innerWidth, H = innerHeight;
canvas.width = W; canvas.height = H;

let player = {x:W/2,y:H/2,r:15,speed:3,score:0,color:'cyan'};
let bots = [], powerups=[];

function spawnBots(){
  bots=[];
  for(let i=0;i<15;i++){
    bots.push({
      x:Math.random()*W,
      y:Math.random()*H,
      r:15,speed:2,score:0,
      color:'hsl('+Math.random()*360+',80%,60%)'
    });
  }
}
function spawnPowerUp(){
  powerups.push({
    x:Math.random()*W,
    y:Math.random()*H,
    r:10,color:'yellow',type:'speed'
  });
}
function moveEntity(e,dx,dy){
  e.x+=dx; e.y+=dy;
  e.x=Math.max(e.r,Math.min(W-e.r,e.x));
  e.y=Math.max(e.r,Math.min(H-e.r,e.y));
}
function update(){
  ctx.clearRect(0,0,W,H);

  // Player
  ctx.fillStyle=player.color;
  ctx.beginPath();
  ctx.arc(player.x,player.y,player.r,0,Math.PI*2);
  ctx.fill();

  // Bots
  bots.forEach(b=>{
    let dx=player.x-b.x, dy=player.y-b.y;
    let dist=Math.hypot(dx,dy);
    if(dist<300){
      dx/=dist;dy/=dist;
      moveEntity(b,dx*b.speed,dy*b.speed);
    } else {
      b.x+= (Math.random()-0.5)*b.speed;
      b.y+= (Math.random()-0.5)*b.speed;
    }
    ctx.fillStyle=b.color;
    ctx.beginPath();
    ctx.arc(b.x,b.y,b.r,0,Math.PI*2);
    ctx.fill();
  });

  // Powerups
  powerups.forEach(p=>{
    ctx.fillStyle=p.color;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
  });

  requestAnimationFrame(update);
}
document.getElementById('playBtn').onclick=()=>{
  document.getElementById('menu').style.display='none';
  document.getElementById('hud').style.display='flex';
  spawnBots(); spawnPowerUp();
  update();
};
</script>
</body>
</html>
